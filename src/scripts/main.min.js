function get_ressources(){clicker.global_var.energie_total+=clicker.global_var.energie_per_sec,clicker.ressources.energie_total.innerHTML=parseInt(clicker.global_var.energie_total),add_money(clicker.global_var.energie_per_sec,"energie"),clicker.ressources.money.innerHTML=parseInt(clicker.global_var.money),clicker.global_var.detritus=parseFloat(clicker.global_var.detritus+clicker.global_var.detritus_per_sec),add_money(clicker.global_var.detritus_per_sec,"detritus"),clicker.global_var.purification_current=clicker.global_var.purification_current+parseFloat(clicker.global_var.detritus_per_sec/2),clicker.ressources.detritus_result.innerHTML=clicker.global_var.detritus,clicker.global_var.purification_current+=parseFloat(clicker.global_var.purify_per_sec/4),purificationChecker(),clicker.ressources.saveGame.classList.contains("opacity")&&clicker.ressources.saveGame.classList.toggle("opacity"),setTimeout(function(){requestAnimationFrame(get_ressources)},1e3)}function add_money(e,r){"detritus"==r?(clicker.global_var.money=clicker.global_var.money+parseFloat(e/10),clicker.global_var.money_total+=parseFloat(e/10),updateShop()):"energie"==r&&(clicker.global_var.money=clicker.global_var.money+parseFloat(e/5),clicker.global_var.money_total+=parseFloat(e/10),updateShop())}function purificationChecker(){clicker.global_var.purification_current_percentage=parseInt(parseFloat(clicker.global_var.purification_current/clicker.global_var.purification*100)),clicker.ressources.gauge_percent.innerHTML=clicker.global_var.purification_current_percentage+" %",clicker.ressources.gauge.style="transform: scaleX("+clicker.global_var.purification_current/clicker.global_var.purification*100/100+")",planetImagesChange(clicker.global_var.current_image),clicker.global_var.purification_current>=clicker.global_var.purification&&(clicker.global_var.current_available++,levelUp(),clicker.global_var.purification*=clicker.global_var.coefficient_purification,clicker.global_var.purification_current=0,clicker.global_var.purification_current_percentage=0,clicker.ressources.gauge_percent.innerHTML=clicker.global_var.purification_current_percentage+" %",clicker.ressources.gauge.style="transform: scaleX(0)",clicker.global_var.planet_current++,setNewPlanet(),initialisePlanetImage()),clicker.ressources.saveGame.classList.contains("opacity")&&clicker.ressources.saveGame.classList.toggle("opacity")}function levelUp(){clicker.ressources.levelUp.classList.remove("displayNone"),clicker.ressources.levelUp.classList.add("levelUpAnim"),setTimeout(function(){clicker.ressources.levelUp.classList.remove("levelUpAnim"),clicker.ressources.levelUp.classList.add("displayNone")},3e3)}function updateLiFonction(e){e--,clicker.ressources.shop_items=document.querySelectorAll(".clicker_shop_block ul li"),clicker.ressources.shop_items[e].addEventListener("click",updateItemShop)}function planetImagesChange(e){clicker.ressources.planet_images=document.querySelectorAll(".planet div"),clicker.global_var.purification_current_percentage>17&&5==clicker.global_var.current_image?(clicker.ressources.planet_images[e].classList.add("planetOpacity"),clicker.global_var.current_image--):clicker.global_var.purification_current_percentage>34&&4==clicker.global_var.current_image?(clicker.ressources.planet_images[e].classList.add("planetOpacity"),clicker.global_var.current_image--):clicker.global_var.purification_current_percentage>51&&3==clicker.global_var.current_image?(clicker.ressources.planet_images[e].classList.add("planetOpacity"),clicker.global_var.current_image--):clicker.global_var.purification_current_percentage>68&&2==clicker.global_var.current_image?(clicker.ressources.planet_images[e].classList.add("planetOpacity"),clicker.global_var.current_image--):clicker.global_var.purification_current_percentage>85&&1==clicker.global_var.current_image&&(clicker.ressources.planet_images[e].classList.add("planetOpacity"),clicker.global_var.current_image--)}function initialisePlanetImage(){for(var e=clicker.ressources.planet_images.length,r=0;r<e;r++)clicker.ressources.planet_images[r].classList.remove("planetOpacity");clicker.global_var.current_image=5,clicker.ressources.planet_images=document.querySelectorAll(".planet div")}function updateShop(){if(clicker.global_var.next_display_item<clicker.global_var.ressources.length){var e=clicker.global_var.ressources[clicker.global_var.next_display_item].price;if(e<=clicker.global_var.money_total){var r=document.createElement("LI");r.setAttribute("data-key",clicker.global_var.next_display_item);var c=document.createElement("IMG");c.setAttribute("src",clicker.global_var.ressources[clicker.global_var.next_display_item].url),c.setAttribute("alt",clicker.global_var.ressources[clicker.global_var.next_display_item].name);var l=document.createElement("P"),a=document.createTextNode(clicker.global_var.ressources[clicker.global_var.next_display_item].name);l.classList.add("name"),l.appendChild(a);var i=document.createElement("P"),t=document.createTextNode(clicker.global_var.ressources[clicker.global_var.next_display_item].price);i.classList.add("price-item"),i.appendChild(t);var s=document.createElement("DIV");s.classList.add("buttonDescription");var o=document.createElement("P");if("click aids"==clicker.global_var.ressources[clicker.global_var.next_display_item].typeItem){console.log(clicker.global_var.ressources[clicker.global_var.next_display_item].name+"-"+clicker.global_var.ressources[clicker.global_var.next_display_item].value);var n=document.createTextNode("Récolte "+clicker.global_var.ressources[clicker.global_var.next_display_item].value+" déchets par clic.")}else if("detritus auto"==clicker.global_var.ressources[clicker.global_var.next_display_item].typeItem){console.log(clicker.global_var.ressources[clicker.global_var.next_display_item].name+"-"+clicker.global_var.ressources[clicker.global_var.next_display_item].value);var n=document.createTextNode("Récolte "+clicker.global_var.ressources[clicker.global_var.next_display_item].value+" déchets par seconde.")}else{console.log(clicker.global_var.ressources[clicker.global_var.next_display_item].name+"-"+clicker.global_var.ressources[clicker.global_var.next_display_item].value_purification);var n=document.createTextNode("Récolte "+clicker.global_var.ressources[clicker.global_var.next_display_item].value_energie+" énergei et "+clicker.global_var.ressources[clicker.global_var.next_display_item].value_purification+" purification par seconde.")}o.appendChild(n),s.appendChild(o);var u=document.createElement("DIV"),p=document.createElement("IMG");p.setAttribute("src","src/img/descriptionDirection.png"),u.appendChild(p),s.appendChild(u),u.classList.add("descriptionDirection"),r.appendChild(c),r.appendChild(l),r.appendChild(i),r.appendChild(s),clicker.ressources.shop.appendChild(r),clicker.global_var.next_display_item++,updateLiFonction(clicker.global_var.next_display_item)}}}function updateItemShop(){var e=parseInt(this.getAttribute("data-key"));"click aids"==clicker.global_var.ressources[e].typeItem?buyDetritusTool(e):"detritus auto"==clicker.global_var.ressources[e].typeItem?buyDetritusAids(e):"energie tools"==clicker.global_var.ressources[e].typeItem&&buyEnergieItem(e)}function updateInventory(e){if(0==clicker.global_var.ressources[e].show){clicker.global_var.ressources[e].show=1;var r=document.createElement("LI");r.setAttribute("data-key",e);var c=document.createElement("IMG");c.setAttribute("src",clicker.global_var.ressources[e].url),c.setAttribute("alt",clicker.global_var.ressources[e].name);var l=document.createElement("DIV");l.classList.add("inventory_number");var a=document.createElement("P"),i=document.createTextNode(clicker.global_var.ressources[e].available);a.classList.add("item_number"),a.setAttribute("data-key",e),a.appendChild(i),l.appendChild(a),r.appendChild(c),r.appendChild(l),clicker.ressources.inventory.appendChild(r)}else{clicker.ressources.inventory_items=document.querySelectorAll(".item_number");for(var t=clicker.ressources.inventory_items.length,s=0;s<t;s++){var o=parseInt(clicker.ressources.inventory_items[s].getAttribute("data-key"));o==e&&(clicker.ressources.inventory_items[s].innerHTML=clicker.global_var.ressources[e].available)}}}function buyDetritusTool(e){clicker.global_var.ressources[e].price<=clicker.global_var.money&&(clicker.global_var.money-=clicker.global_var.ressources[e].price,clicker.global_var.ressources[e].available++,clicker.ressources.money.innerHTML=parseInt(clicker.global_var.money),clicker.global_var.ressources[e].price=parseFloat(clicker.global_var.ressources[e].price*clicker.global_var.coeficient_price),clicker.global_var.detritus_click_result+=clicker.global_var.ressources[e].value,clicker.ressources.shop_items[e].querySelector(".price-item").innerHTML=clicker.global_var.ressources[e].price,updateInventory(e))}function buyDetritusAids(e){clicker.global_var.ressources[e].price<=clicker.global_var.money&&(clicker.global_var.money-=clicker.global_var.ressources[e].price,clicker.global_var.detritus_per_sec+=clicker.global_var.ressources[e].value,clicker.global_var.ressources[e].available++,clicker.global_var.ressources[e].price=parseFloat(clicker.global_var.ressources[e].price*clicker.global_var.coeficient_price),clicker.ressources.money.innerHTML=parseInt(clicker.global_var.money),clicker.ressources.shop_items[e].querySelector(".price-item").innerHTML=clicker.global_var.ressources[e].price,1!=clicker.global_var.generat_per_sec&&(clicker.global_var.generat_per_sec=!1,get_ressources(),updateInventory(e)))}function buyEnergieItem(e){clicker.global_var.ressources[e].price<=clicker.global_var.money&&(clicker.global_var.money-=clicker.global_var.ressources[e].price,clicker.ressources.money.innerHTML=parseInt(clicker.global_var.money),clicker.global_var.energie_per_sec=parseFloat(clicker.global_var.energie_per_sec+clicker.global_var.ressources[e].value_energie/40),clicker.global_var.purify_per_sec=parseFloat(clicker.global_var.purify_per_sec+clicker.global_var.ressources[e].value_purification/20),clicker.global_var.ressources[e].available++,clicker.global_var.ressources[e].price=parseFloat(clicker.global_var.ressources[e].price*clicker.global_var.coeficient_price),clicker.ressources.shop_items[e].querySelector(".price-item").innerHTML=clicker.global_var.ressources[e].price,1!=clicker.global_var.generat_per_sec&&(clicker.global_var.generat_per_sec=!1,get_ressources(),updateInventory(e)))}function initialiseShop(){for(i=0;i<3;i++){var e=document.createElement("LI");e.setAttribute("data-key",clicker.global_var.next_display_item);var r=document.createElement("IMG");r.setAttribute("src",clicker.global_var.ressources[clicker.global_var.next_display_item].url),r.setAttribute("alt",clicker.global_var.ressources[clicker.global_var.next_display_item].name);var c=document.createElement("P"),l=document.createTextNode(clicker.global_var.ressources[clicker.global_var.next_display_item].name);c.classList.add("name"),c.appendChild(l);var a=document.createElement("P"),t=document.createTextNode(clicker.global_var.ressources[clicker.global_var.next_display_item].price);a.classList.add("price-item"),a.appendChild(t);var s=document.createElement("DIV");s.classList.add("buttonDescription");var o=document.createElement("P");if("click aids"==clicker.global_var.ressources[i].typeItem)var n=document.createTextNode("Récolte "+clicker.global_var.ressources[i].value+" déchets par clic.");else if("detritus auto"==clicker.global_var.ressources[i].typeItem)var n=document.createTextNode("Récolte "+clicker.global_var.ressources[i].value+" déchets par seconde.");else var n=document.createTextNode("Récolte "+clicker.global_var.ressources[i].value_energie+" énergei et "+clicker.global_var.ressources[i].value_purification+" purification par seconde.");o.appendChild(n),s.appendChild(o);var u=document.createElement("DIV"),p=document.createElement("IMG");p.setAttribute("src","src/img/descriptionDirection.png"),u.appendChild(p),s.appendChild(u),u.classList.add("descriptionDirection"),e.appendChild(r),e.appendChild(c),e.appendChild(a),e.appendChild(s),clicker.ressources.shop.appendChild(e),clicker.global_var.next_display_item++,updateLiFonction(clicker.global_var.next_display_item)}}function setNewPlanet(){var e=clicker.global_var.planet_current%3;clicker.ressources.planet_name.innerHTML=clicker.global_var.planet[e].name;for(var r="",c=0;c<6;c++)r+='<div><img src="'+clicker.global_var.planet[e].images[c],r+='" alt="" class="'+clicker.global_var.planet[e].name+c+'"></div>';clicker.ressources.planet_current.innerHTML=r}function setCurrentPlanet(){var e=clicker.global_var.planet_current;clicker.ressources.planet_name.innerHTML=clicker.global_var.planet[e].name;for(var r="",c=0;c<6;c++)r+='<div><img src="'+clicker.global_var.planet[e].images[c],r+='" alt="" class="'+clicker.global_var.planet[e].name+c+'"></div>';clicker.ressources.planet_current.innerHTML=r}function saveToLocal(){var e=JSON.stringify(clicker.global_var);localStorage.setItem("clicker_ressources",e)}function setSavedGame(){clicker.ressources.detritus_result.innerHTML=clicker.global_var.detritus,clicker.ressources.money.innerHTML=parseInt(clicker.global_var.money),clicker.ressources.energie_total.innerHTML=parseInt(clicker.global_var.energie_total),clicker.global_var.energie_total>0&&get_ressources(),setCurrentPlanet(),purificationChecker(),initialisePlanetImage();for(var e=5;e>=clicker.global_var.current_image;e--)planetImagesChange(clicker.global_var.current_image);clicker.ressources.gauge_percent.innerHTML=clicker.global_var.purification_current_percentage+" %";for(var r=0;r<clicker.global_var.next_display_item;r++){var c=document.createElement("LI");c.setAttribute("data-key",r);var l=document.createElement("IMG");l.setAttribute("src",clicker.global_var.ressources[r].url),l.setAttribute("alt",clicker.global_var.ressources[r].name);var a=document.createElement("P"),i=document.createTextNode(clicker.global_var.ressources[r].name);a.classList.add("name"),a.appendChild(i);var t=document.createElement("P"),s=document.createTextNode(clicker.global_var.ressources[r].price);t.classList.add("price-item"),t.appendChild(s);var o=document.createElement("DIV");o.classList.add("buttonDescription");var n=document.createElement("P");if("click aids"==clicker.global_var.ressources[r].typeItem)var u=document.createTextNode("Récolte "+clicker.global_var.ressources[r].value+" déchets par clic.");else if("detritus auto"==clicker.global_var.ressources[r].typeItem)var u=document.createTextNode("Récolte "+clicker.global_var.ressources[r].value+" déchets par seconde.");else var u=document.createTextNode("Récolte "+clicker.global_var.ressources[r].value_energie+" énergei et "+clicker.global_var.ressources[r].value_purification+" purification par seconde.");n.appendChild(u),o.appendChild(n);var p=document.createElement("DIV"),_=document.createElement("IMG");_.setAttribute("src","src/img/descriptionDirection.png"),p.appendChild(_),o.appendChild(p),p.classList.add("descriptionDirection"),c.appendChild(l),c.appendChild(a),c.appendChild(t),c.appendChild(o),clicker.ressources.shop.appendChild(c);var g=r+1;if(updateLiFonction(g),1==clicker.global_var.ressources[r].show){clicker.global_var.ressources[r].show=1;var c=document.createElement("LI");c.setAttribute("data-key",r);var l=document.createElement("IMG");l.setAttribute("src",clicker.global_var.ressources[r].url),l.setAttribute("alt",clicker.global_var.ressources[r].name);var v=document.createElement("DIV");v.classList.add("inventory_number");var m=document.createElement("P"),d=document.createTextNode(clicker.global_var.ressources[r].available);m.classList.add("item_number"),m.setAttribute("data-key",r),m.appendChild(d),v.appendChild(m),c.appendChild(l),c.appendChild(v),clicker.ressources.inventory.appendChild(c),updateInventory(r)}}}var clicker={};clicker.ressources={},clicker.ressources.planet_current=document.querySelector(".planet"),clicker.ressources.planet_images,clicker.ressources.detritus_result=document.querySelector(".counter"),clicker.ressources.money=document.querySelector(".incrementingCoin"),clicker.ressources.gauge=document.querySelector(".ratio2"),clicker.ressources.gauge_percent=document.querySelector(".percentage"),clicker.ressources.energie_total=document.querySelector(".incrementingEnergie"),clicker.ressources.shop=document.querySelector(".clicker_shop_block ul"),clicker.ressources.shop_items=document.querySelector(".clicker_shop_block ul li"),clicker.ressources.inventory=document.querySelector(".inventory ul"),clicker.ressources.inventory_items=document.querySelectorAll(".inventory ul li"),clicker.ressources.logo=document.querySelector(".logo"),clicker.ressources.planet_name=document.querySelector(".planetName"),clicker.ressources.levelUp=document.querySelector(".levelUp"),clicker.ressources.saveGame=document.querySelector(".saveGame"),"undefined"!=typeof Storage&&(localStorage.clicker_ressources?(clicker.global_var=JSON.parse(localStorage.clicker_ressources),setSavedGame(),1!=clicker.ressources.saveGame.classList.contains("opacity")&&clicker.ressources.saveGame.classList.add("opacity")):(clicker.global_var={},clicker.global_var.current_level=1,clicker.global_var.coeficient_price=2,clicker.global_var.coefficient_purification=4,clicker.global_var.current_image=5,clicker.global_var.generat_per_sec=!1,clicker.global_var.detritus=0,clicker.global_var.detritus_click_result=1,clicker.global_var.money_convert_detritus=10,clicker.global_var.money=0,clicker.global_var.money_total=0,clicker.global_var.purification=500,clicker.global_var.purification_current=0,clicker.global_var.purification_current_percentage=0,clicker.global_var.energie_total=0,clicker.global_var.energie_per_sec=0,clicker.global_var.purify_per_sec=0,clicker.global_var.detritus_per_sec=0,clicker.global_var.next_display_item=0,clicker.global_var.planet_current=0,clicker.global_var.ressources=[{name:"Gants",value:2,price:5,available:0,typeItem:"click aids",url:"src/img/gloveIcon.png",show:0},{name:"Bonzaï",value_purification:30,value_energie:2.5,price:10,available:0,typeItem:"energie tools",url:"src/img/bonzaiIcon.png",show:0},{name:"Arbuste",value_purification:50,value_energie:5,price:20,available:0,typeItem:"energie tools",url:"src/img/littletreeIcon.png",show:0},{name:"Eolienne",value_purification:10,value_energie:80,price:60,available:0,typeItem:"energie tools",url:"src/img/windturbineIcon.png",show:0},{name:"Pince",value:5,price:65,available:0,typeItem:"click aids",url:"src/img/pawIcon.png",show:0},{name:"Buisson",value_purification:70,value_energie:10,price:80,available:0,typeItem:"energie tools",url:"src/img/shrubIcon.png",show:0},{name:"Bénévole",value:5,price:100,available:0,typeItem:"detritus auto",url:"src/img/volunteerIcon.png",show:0},{name:"Arbre fruitier",value_purification:100,value_energie:20,price:200,available:0,typeItem:"energie tools",url:"src/img/fruittreeIcon.png",show:0},{name:"Ouvrier",value:10,price:210,available:0,typeItem:"detritus auto",url:"src/img/workerIcon.png",show:0},{name:"Barrage",value_purification:20,value_energie:100,price:250,available:0,typeItem:"energie tools",url:"src/img/hydraulicbamIcon.png",show:0},{name:"Pelle",value:30,price:320,available:0,typeItem:"click aids",url:"src/img/spadeIcon.png",show:0},{name:"Artisant",value:25,price:430,available:0,typeItem:"detritus auto",url:"src/img/specialworkerIcon.png",show:0},{name:"Brouette",value:40,price:470,available:0,typeItem:"click aids",url:"src/img/wheelbarrowIcon.png",show:0},{name:"Walee",value:60,price:700,available:0,typeItem:"detritus auto",url:"src/img/walleIcon.png",show:0},{name:"Panneau",value_purification:30,value_energie:160,price:780,available:0,typeItem:"energie tools",url:"src/img/solarpanelIcon.png",show:0},{name:"Hevea",value_purification:300,value_energie:40,price:900,available:0,typeItem:"energie tools",url:"src/img/heveaIcon.png",show:0},{name:"Pelleteuse",value:100,price:1e3,available:0,typeItem:"click aids",url:"src/img/diggerIcon.png",show:0},{name:"Super robot",value:100,price:1200,available:0,typeItem:"detritus auto",url:"src/img/superrobotIcon.png",show:0},{name:"Centrale",value_purification:40,value_energie:320,price:1300,available:0,typeItem:"energie tools",url:"src/img/powerstationIcon.png",show:0},{name:"Arbre alienne",value_purification:700,value_energie:60,price:2100,available:0,typeItem:"energie tools",url:"src/img/alientree.png",show:0},{name:"Régiment",value:200,price:2200,available:0,typeItem:"detritus auto",url:"src/img/alienIcon.png",show:0},{name:"Méga fusion",value_purification:50,value_energie:780,price:2500,available:0,typeItem:"energie tools",url:"src/img/megacentralIcon.png",show:0},{name:"Camion benne",value:500,price:3e3,available:0,typeItem:"click aids",url:"src/img/truckIcon.png",show:0},{name:"Bataillon",value:500,price:3500,available:0,typeItem:"detritus auto",url:"src/img/flagIcon.png",show:0},{name:"T 282B",value:1e3,price:7600,available:0,typeItem:"click aids",url:"src/img/t282bIcon.png",show:0},{name:"Armée écolo",value:1e3,price:1e4,available:0,typeItem:"detritus auto",url:"src/img/ecoarmyIcon.png",show:0}],clicker.global_var.planet=[{name:"PLANETE BLEU",images:["src/img/planet1_1.png","src/img/planet1_2.png","src/img/planet1_3.png","src/img/planet1_4.png","src/img/planet1_5.png","src/img/planet1_6.png"]},{name:"PLANETE ROUGE",images:["src/img/planet2_1.png","src/img/planet2_2.png","src/img/planet2_3.png","src/img/planet2_4.png","src/img/planet2_5.png","src/img/planet2_6.png"]},{name:"PLANETE OREO",images:["src/img/planet3_1.png","src/img/planet3_2.png","src/img/planet3_3.png","src/img/planet3_4.png","src/img/planet3_5.png","src/img/planet3_6.png"]}],setNewPlanet(),initialiseShop())),clicker.ressources.saveGame.addEventListener("click",function(){1!=clicker.ressources.saveGame.classList.contains("opacity")&&(saveToLocal(),clicker.ressources.saveGame.classList.toggle("opacity"))}),clicker.ressources.planet_current.addEventListener("click",function(){clicker.global_var.detritus+=clicker.global_var.detritus_click_result,add_money(clicker.global_var.detritus_click_result,"detritus"),clicker.global_var.purification_current=clicker.global_var.purification_current+parseFloat(clicker.global_var.detritus_click_result/2),clicker.ressources.detritus_result.innerHTML=clicker.global_var.detritus,clicker.ressources.money.innerHTML=parseInt(clicker.global_var.money),purificationChecker(),clicker.ressources.saveGame.classList.contains("opacity")&&clicker.ressources.saveGame.classList.toggle("opacity")}),clicker.ressources.logo.addEventListener("click",function(){localStorage.removeItem("clicker_ressources"),location.reload()});